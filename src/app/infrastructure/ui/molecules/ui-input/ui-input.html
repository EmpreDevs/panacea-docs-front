<!-- ui-input.component.html -->
<div class="w-full">
	<!-- Label -->
	<label
		[for]="id"
		class="block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1"
	>
		{{ label }}
		@if (required) {
			<span class="text-red-500">*</span>
		}
	</label>

	<!-- Input container -->
	<div class="relative">
		<!-- Icono izquierdo -->
		@if (icon) {
			<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
				<lucide-angular
					[img]="icon"
					[class]="isInvalid ? 'w-4 h-4 text-red-500' : 'w-4 h-4 text-slate-400'"
				></lucide-angular>
			</div>
		}

		<!-- Input -->
		<input
			[id]="id"
			[type]="type"
			[name]="name"
			[required]="required"
			[placeholder]="placeholder"
			[autocomplete]="autocomplete"
			[readonly]="readonly"
			[disabled]="isDisabled"
			[class.cursor-not-allowed]="isDisabled || readonly"
			[class.pl-10]="icon"
			[class.pr-10]="isInvalid || isValid"
			[ngClass]="{
				'outline-red-500 focus:outline-red-500 border-red-500': isInvalid,
				'outline-green-500 focus:outline-green-500 border-green-500': isValid,
				'outline-gray-300 dark:outline-gray-700 focus:outline-indigo-600': !isInvalid && !isValid,
			}"
			block
			w-full
			rounded-md
			bg-white
			dark:bg-gray-800
			px-3
			py-2
			text-base
			text-gray-900
			dark:text-gray-100
			outline
			outline-1
			-outline-offset-1
			placeholder:text-gray-400
			dark:placeholder:text-gray-600
			focus:outline-2
			focus:-outline-offset-2
			sm:text-sm
			transition-colors
			class=""
			(blur)="_onTouched()"
			#UIInput
		/>

		<!-- Icono de validaciÃ³n (derecha) -->
		@if (isInvalid) {
			<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
				<lucide-angular
					[img]="iconX"
					[size]="16"
					class="w-4 h-4 text-red-500"
				></lucide-angular>
			</div>
		}
		@if (isValid) {
			<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
				<lucide-angular
					[img]="iconCheck"
					[size]="16"
					class="w-4 h-4 text-green-500"
				></lucide-angular>
			</div>
		}
	</div>

	<!-- Mensaje de error -->
	@if (isInvalid && errorMessage) {
		<p class="mt-1 text-sm font-light text-red-600 dark:text-red-400 flex items-center gap-1">
			<lucide-angular
				[img]="iconAlert"
				class="w-4 h-4"
			></lucide-angular>
			{{ errorMessage }}
		</p>
	}

	<!-- Hint text (opcional) -->
	@if (hint && !isInvalid) {
		<p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
			{{ hint }}
		</p>
	}
</div>
