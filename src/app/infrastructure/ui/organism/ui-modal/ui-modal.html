<!-- Modal Overlay -->
@if (isOpen()) {
	<div
		class="fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black/20 backdrop-blur-sm transition-opacity duration-300"
		(click)="onBackdropClick($event)"
	>
		<!-- Modal Container -->
		<div
			class="relative w-full {{
				sizeClasses
			}} mx-4 my-8 bg-surface rounded-lg shadow-xl transform transition-all duration-300 ease-out"
			(click)="$event.stopPropagation()"
		>
			<!-- Modal Header -->
			@if (showHeader()) {
				<div class="flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700">
					<h3 class="text-lg font-semibold text-on-surface">
						{{ title() }}
					</h3>
					@if (showCloseButton()) {
						<button
							type="button"
							(click)="onClose()"
							class="text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-lg transition-colors duration-200"
							aria-label="Cerrar modal"
						>
							<app-ui-icon
								name="close"
								[size]="24"
							/>
						</button>
					}
				</div>
			}

			<ng-content></ng-content>
		</div>
	</div>
}
